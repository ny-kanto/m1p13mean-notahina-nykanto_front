<!-- shop-card.component.html -->
<a [routerLink]="['/boutiques', boutique._id]" class="shop-card-link">
  <div class="shop-card" tabindex="0" [class.is-favorite]="isFavorite">

    <div class="shop-image">
      <img [src]="getShopImage()" [alt]="boutique.nom" />
      <span class="status-badge" [ngClass]="getStatusClass()">
        {{ getStatusLabel() }}
      </span>

      <!-- ✅ Bouton favori avec état dynamique -->
      <button
        class="favorite-btn"
        [class.active]="isFavorite"
        [class.toggling]="isToggling"
        (click)="toggleFavorite($event)"
        [title]="isFavorite ? 'Retirer des favoris' : 'Ajouter aux favoris'"
      >
        <i [class]="isFavorite ? 'fas fa-heart' : 'far fa-heart'"></i>
      </button>
    </div>

    <div class="shop-info">
      <div class="header-info">
        <h3>{{ boutique.nom }}</h3>
        <span class="floor-tag">
          <i class="fas fa-building"></i>
          {{ getEtageLabel() }}
        </span>
      </div>
    </div>

  </div>
</a>
